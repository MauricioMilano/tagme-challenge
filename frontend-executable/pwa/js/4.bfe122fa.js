(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"52f9":function(e,t,a){e.exports=a.p+"img/prato-arroz-grande.8d8ad0ff.jpg"},5919:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"1500px"}},[i("q-stepper",{ref:"stepper",attrs:{"header-nav":"","active-icon":"restaurant_menu",color:"primary",animated:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[i("q-step",{attrs:{name:1,title:"Escolha a Receita",icon:"fastfood",done:e.step>1,"header-nav":e.step>1}},[i("q-list",{attrs:{bordered:"",padding:""}},e._l(e.receitas,(function(t){return i("div",{key:t.nome,on:{click:function(a){return e.updateSection(t)}}},[i("q-item",[i("q-item-section",{attrs:{top:"",avatar:""}},[i("img",{staticClass:"image_thumb",attrs:{src:a("52f9")}})]),i("q-item-section",[i("q-item-label",{attrs:{top:""}},[e._v(e._s(t.nome))]),i("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.descricao))])],1),i("q-item-section",{attrs:{side:"",top:""}},[i("q-item-label",{attrs:{caption:""}})],1)],1)],1)})),0)],1),i("q-step",{attrs:{name:2,title:"Cozinhe",caption:"",icon:"outdoor_grill",done:e.step>2,"header-nav":e.step>2}},[i("div",{staticClass:"q-pa-md"},[i("q-list",e._l(e.receitaEscolhida.ingredientes,(function(t){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.nome,attrs:{tag:"label"}},[i("q-item-section",{attrs:{avatar:""}},[i("q-checkbox",{attrs:{val:t.nome,color:"primary"},model:{value:e.ingredientesSelecionados,callback:function(t){e.ingredientesSelecionados=t},expression:"ingredientesSelecionados"}})],1),i("q-item-section",[i("q-item-label",[e._v(e._s(t.medida)+" de "+e._s(t.nome))])],1)],1)})),1)],1),i("q-expansion-item",{attrs:{icon:"menu_book",label:"Modo de Preparo"},model:{value:e.expanded,callback:function(t){e.expanded=t},expression:"expanded"}},[i("q-card",[i("q-card-section",[i("q-list",{attrs:{separator:""}},e._l(e.receitaEscolhida.steps,(function(t){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t,attrs:{tag:"label"}},[i("q-item-section",{attrs:{avatar:""}},[i("q-checkbox",{attrs:{val:t,color:"primary"},model:{value:e.stepsSelecionados,callback:function(t){e.stepsSelecionados=t},expression:"stepsSelecionados"}})],1),i("q-item-section",[i("q-item-label",[e._v(e._s(t))])],1)],1)})),1)],1)],1)],1),i("q-stepper-navigation",[i("q-btn",{attrs:{disable:e.disableButton(),color:"primary",label:"Continue"},on:{click:function(t){return e.validaIngredientesEFinaliza()}}})],1)],1),i("q-step",{attrs:{name:3,title:"Finalizar e entregar Pedido",icon:"dinner_dining","header-nav":e.step>3}},[e._v("\n        Pronto!!\n\n        Pedido finalizado, vocÃª levou "+e._s(e.diferencaHorarioEmMin)+"\n\n        "),i("q-stepper-navigation",[i("q-btn",{attrs:{color:"primary",label:"Finalizar"},on:{click:function(t){return e.goStep(1)}}})],1)],1)],1)],1)},n=[],o=(a("e6cf"),a("5319"),a("1b3f")),s={name:"Receitas",data(){return{receitas:[],step:1,receitaEscolhida:{},ingredientesSelecionados:[],stepsSelecionados:[],expanded:!0,horarioInicial:"",horarioFinal:"",diferencaHorarioEmMin:""}},created(){this.updateReceitas()},methods:{disableButton(){var e,t;return!((null===(e=this.receitaEscolhida.ingredientes)||void 0===e?void 0:e.length)===(null===(t=this.ingredientesSelecionados)||void 0===t?void 0:t.length)&&this.receitaEscolhida.steps.length===this.stepsSelecionados.length)},goStep(e){this.step=e},async updateReceitas(){o["a"].start();try{const e=await this.$axios.get("/receitas/all");o["a"].stop(),this.$notifs("positive","Sucesso ao carregar Receitas"),this.receitas=e.data,this.receitas.forEach((e=>{e.steps=e.modoPreparo.split("\n")}))}catch(e){this.$notifs("negative","Erro ao carregar receitas"),console.log(e)}},updateSection(e){this.receitaEscolhida=e,this.goStep(2),this.horarioInicial=this.$moment().format("MMMM Do YYYY, h:mm:ss a"),console.log(this.horarioInicial)},validaIngredientesEFinaliza(){this.diferencaHorarioEmMin=this.$moment(this.horarioInicial,"MMMM Do YYYY, h:mm:ss a").fromNow(!0),"a few seconds"===this.diferencaHorarioEmMin?this.$notifs("negative","Tempo insuficiente"):(console.log(this.diferencaHorarioEmMin),this.diferencaHorarioEmMin=this.diferencaHorarioEmMin.replace("an","1").replace("a","1").replace("hour","hora").replace("minute","minuto"),this.disableButton()||this.goStep(3)),console.log(this.diferencaHorarioEmMin)}}},r=s,c=(a("a4b4f"),a("2877")),l=a("f531"),d=a("87fe"),p=a("1c1c"),m=a("66e5"),h=a("4074"),u=a("0170"),f=a("8f8e"),v=a("3b73"),g=a("f09f"),b=a("a370"),q=a("b19c"),S=a("9c40"),E=a("714f"),_=a("eebe"),x=a.n(_),M=Object(c["a"])(r,i,n,!1,null,"a6d2be28",null);t["default"]=M.exports;x()(M,"components",{QStepper:l["a"],QStep:d["a"],QList:p["a"],QItem:m["a"],QItemSection:h["a"],QItemLabel:u["a"],QCheckbox:f["a"],QExpansionItem:v["a"],QCard:g["a"],QCardSection:b["a"],QStepperNavigation:q["a"],QBtn:S["a"]}),x()(M,"directives",{Ripple:E["a"]})},7716:function(e,t,a){},a4b4f:function(e,t,a){"use strict";a("7716")}}]);